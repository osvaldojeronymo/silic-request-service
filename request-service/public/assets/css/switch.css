/* trilho */
.switch {
  position: relative;
  width: 48px;
  height: 28px;
  border-radius: 999px;
  background: #e8edf6;
  border: 1px solid #cfd6e0;
  box-shadow: inset 0 0 0 2px #0000;
  cursor: pointer;
  transition:
    background 0.22s ease,
    border-color 0.22s ease,
    box-shadow 0.22s ease;
  box-sizing: border-box; /* garante cálculo consistente */
  overflow: hidden; /* corta qualquer vazamento */
  line-height: 0; /* evita “empurrões” por altura de linha */
  /* variáveis para o cálculo do deslocamento */
  --pad: 3px;
  --thumb: 22px;
  --dx: calc(100% - var(--thumb) - var(--pad) * 2); /* quanto mover quando ligado */
}

/* thumb */
.switch::after {
  content: '';
  position: absolute;
  top: 50%;
  left: var(--pad);
  width: var(--thumb);
  height: var(--thumb);
  border-radius: 50%;
  transform: translateY(-50%) translateX(0); /* posição desligado */
  background: #fff;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  transition:
    transform 0.22s cubic-bezier(0.2, 0.9, 0.2, 1.2),
    box-shadow 0.22s;
}

/* clique */
.switch:active::after {
  transform: translateY(-50%) translateX(0) scale(0.96);
}

/* ligado */
.switch[aria-checked='true'] {
  background: linear-gradient(90deg, #b7d1ff, #e7f0ff);
  border-color: #9dbdff;
  box-shadow: inset 0 0 0 2px #99b6ff33;
}
.switch[aria-checked='true']::after {
  transform: translateY(-50%) translateX(var(--dx)); /* move sem depender de left */
  /* opcional: pop mais discreto para não encostar na borda */
  animation: thumb-pop 220ms ease-out;
}

/* pop do thumb (pode reduzir o scale) */
@keyframes thumb-pop {
  0% {
    transform: translateY(-50%) translateX(var(--dx)) scale(0.94);
  }
  60% {
    transform: translateY(-50%) translateX(var(--dx)) scale(1.03);
  }
  100% {
    transform: translateY(-50%) translateX(var(--dx)) scale(1);
  }
}

/* pulso */
@keyframes pulse-ring {
  0% {
    transform: translate(-50%, -50%) scale(0.6);
    opacity: 0.35;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.8);
    opacity: 0;
  }
}
.switch.pulse::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  background: #99b6ff66;
  animation: pulse-ring 450ms ease-out forwards;
  pointer-events: none;
}

/* acessório */
.state {
  font-weight: 700;
}

@media (prefers-reduced-motion: reduce) {
  .switch,
  .switch::after {
    transition: none !important;
  }
  .switch[aria-checked='true']::after,
  .switch.pulse::before {
    animation: none !important;
  }
}
/* -------- SWITCH com micro-efeitos -------- */
.switch {
  position: relative;
  width: 48px;
  height: 24px;
  border-radius: 999px;
  background: #e8edf6;
  border: 1px solid #cfd6e0;
  box-shadow: inset 0 0 0 2px #0000;
  cursor: pointer;
  transition:
    background 0.22s ease,
    border-color 0.22s ease,
    box-shadow 0.22s ease;
  box-sizing: border-box;
}
/* Bolinha do switch: posição inicial à esquerda, ao ativar vai para a direita */

.switch[aria-checked='true'] {
  background: linear-gradient(90deg, #b7d1ff, #e7f0ff);
  border-color: #9dbdff;
  box-shadow: inset 0 0 0 2px #99b6ff33;
}
.switch[aria-checked='true']::after {
  left: auto;
  right: 2px;
}

@keyframes pulse-ring {
  0% {
    transform: translate(-50%, -50%) scale(0.6);
    opacity: 0.35;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.8);
    opacity: 0;
  }
}
.switch.pulse::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  background: #99b6ff66;
  animation: pulse-ring 450ms ease-out forwards;
  pointer-events: none;
}
.state {
  font-weight: 700;
}

/* wrappers opcionais */
.switch-wrap {
  display: flex;
  align-items: center;
  gap: 12px;
}
.switch-text {
  font-weight: 700;
  color: #1a237e;
}

@media (prefers-reduced-motion: reduce) {
  .switch,
  .switch::after {
    transition: none !important;
  }
  .switch[aria-checked='true']::after,
  .switch.pulse::before {
    animation: none !important;
  }
}
